<!DOCTYPE html>
<html>
<head>
<title>The Hobbit: Routine at 37850</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="37790.html">37790</a>
</td>
<td class="up">Up: <a href="../maps/all.html#37850">Map</a></td>
<td class="next">
Next: <a href="38381.html">38381</a>
</td>
</tr>
</table>
<div class="description">37850: Action Examine</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="42305.html">42305</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="37850"></span>37850</td>
<td class="instruction">CALL <a href="40260.html">40260</a></td>
<td class="comment-1" rowspan="1">Call <a href="40260.html">40260</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="37853"></span>37853</td>
<td class="instruction">LD A,(46824)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<a href="46810.html#46824">46824</a></td>
</tr>
<tr>
<td class="address-1"><span id="37856"></span>37856</td>
<td class="instruction">CALL <a href="39882.html">39882</a></td>
<td class="comment-1" rowspan="1">Call <a href="39882.html">39882</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="37859"></span>37859</td>
<td class="instruction">LD L,(IX+14)</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>=offset for object help text.</td>
</tr>
<tr>
<td class="address-1"><span id="37862"></span>37862</td>
<td class="instruction">LD H,(IX+15)</td>
</tr>
<tr>
<td class="address-1"><span id="37865"></span>37865</td>
<td class="instruction">LD A,H</td>
<td class="comment-1" rowspan="3">If this value is not $0000 then jump to <a href="29405.html">29405</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="37866"></span>37866</td>
<td class="instruction">OR L</td>
</tr>
<tr>
<td class="address-1"><span id="37867"></span>37867</td>
<td class="instruction">JP NZ,<a href="29405.html">29405</a></td>
</tr>
<tr>
<td class="address-1"><span id="37870"></span>37870</td>
<td class="instruction">LD HL,45056</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="44413.html#45056">"You see[0x16]"</a></td>
</tr>
<tr>
<td class="address-1"><span id="37873"></span>37873</td>
<td class="instruction">CALL <a href="29405.html">29405</a></td>
<td class="comment-1" rowspan="1">Call <a href="29405.html">29405</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="37876"></span>37876</td>
<td class="instruction">PUSH IX</td>
<td class="comment-1" rowspan="2"><span class="register">IY</span>=<span class="register">IX</span></td>
</tr>
<tr>
<td class="address-1"><span id="37878"></span>37878</td>
<td class="instruction">POP IY</td>
</tr>
<tr>
<td class="address-1"><span id="37880"></span>37880</td>
<td class="instruction">CALL <a href="40647.html">40647</a></td>
<td class="comment-1" rowspan="1">Call <a href="40647.html">40647</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="37883"></span>37883</td>
<td class="instruction">LD A,46</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37885"></span>37885</td>
<td class="instruction">CALL <a href="34166.html#34187">34187</a></td>
<td class="comment-1" rowspan="1">Call <a href="34166.html#34187">34187</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="37888"></span>37888</td>
<td class="instruction">CALL <a href="34166.html#34179">34179</a></td>
<td class="comment-1" rowspan="1">Call <a href="34166.html#34179">34179</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="37891"></span>37891</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="address-1"><span id="37892"></span>37892</td>
<td class="instruction">LD IX,(46856)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37896"></span>37896</td>
<td class="instruction">CALL <a href="42305.html#42442">42442</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37899"></span>37899</td>
<td class="instruction">JP Z,<a href="41272.html#41324">41324</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37902"></span>37902</td>
<td class="instruction">LD A,(46824)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37905"></span>37905</td>
<td class="instruction">CALL <a href="40343.html">40343</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37908"></span>37908</td>
<td class="instruction">CP 0</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37910"></span>37910</td>
<td class="instruction">JR Z,<a href="37850.html#37923">37923</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37912"></span>37912</td>
<td class="instruction">CALL <a href="40260.html">40260</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37915"></span>37915</td>
<td class="instruction">CALL <a href="40260.html#40272">40272</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37918"></span>37918</td>
<td class="instruction">RES 2,(IX+7)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37922"></span>37922</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="37923"></span>37923</td>
<td class="instruction">LD A,2</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37925"></span>37925</td>
<td class="instruction">JP <a href="41272.html#41324">41324</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37928"></span>37928</td>
<td class="instruction">CALL <a href="36006.html#36133">36133</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37931"></span>37931</td>
<td class="instruction">CALL <a href="40260.html">40260</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37934"></span>37934</td>
<td class="instruction">LD A,(46838)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37937"></span>37937</td>
<td class="instruction">LD IX,(46858)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37941"></span>37941</td>
<td class="instruction">LD B,(IX+0)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="37944"></span>37944</td>
<td class="instruction">CP (IX+16)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37947"></span>37947</td>
<td class="instruction">JR Z,<a href="37850.html#37956">37956</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37949"></span>37949</td>
<td class="instruction">INC IX</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37951"></span>37951</td>
<td class="instruction">DJNZ <a href="37850.html#37944">37944</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37953"></span>37953</td>
<td class="instruction">JP <a href="29390.html">29390</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="37956"></span>37956</td>
<td class="instruction">LD A,(IX+17)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37959"></span>37959</td>
<td class="instruction">DEC B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37960"></span>37960</td>
<td class="instruction">JR NZ,<a href="37850.html#37963">37963</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37962"></span>37962</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="37963"></span>37963</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37964"></span>37964</td>
<td class="instruction">LD HL,44540</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="44413.html#44540">"and it get(s|d|ing|es) swept away"</a></td>
</tr>
<tr>
<td class="address-1"><span id="37967"></span>37967</td>
<td class="instruction">CALL <a href="29405.html">29405</a></td>
<td class="comment-1" rowspan="1">Call <a href="29405.html">29405</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="37970"></span>37970</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37971"></span>37971</td>
<td class="instruction">LD IX,(46856)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37975"></span>37975</td>
<td class="instruction">LD (IX+16),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37978"></span>37978</td>
<td class="instruction">LD (IX+1),255</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37982"></span>37982</td>
<td class="instruction">LD B,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37983"></span>37983</td>
<td class="instruction">LD A,(46824)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37986"></span>37986</td>
<td class="instruction">CALL <a href="39900.html#39901">39901</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37989"></span>37989</td>
<td class="instruction">LD A,(49451)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37992"></span>37992</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37993"></span>37993</td>
<td class="instruction">JP Z,<a href="37074.html">37074</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37996"></span>37996</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="37997"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="41730.html">41730</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="37997"></span>37997</td>
<td class="instruction">CALL <a href="41272.html#41465">41465</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38000"></span>38000</td>
<td class="instruction">JP NZ,<a href="41272.html#41324">41324</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38003"></span>38003</td>
<td class="instruction">LD A,198</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="38005"></span>38005</td>
<td class="instruction">LD (38027),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38008"></span>38008</td>
<td class="instruction">LD IY,(46858)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38012"></span>38012</td>
<td class="instruction">BIT 3,(IY+7)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38016"></span>38016</td>
<td class="instruction">LD A,131</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38018"></span>38018</td>
<td class="instruction">JP NZ,<a href="41272.html#41316">41316</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38021"></span>38021</td>
<td class="instruction">CALL <a href="40260.html">40260</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38024"></span>38024</td>
<td class="instruction">SET 0,(IX+7)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38028"></span>38028</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="38029"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="41730.html">41730</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="38029"></span>38029</td>
<td class="instruction">LD IX,(46856)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38033"></span>38033</td>
<td class="instruction">BIT 0,(IX+7)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38037"></span>38037</td>
<td class="instruction">LD A,0</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38039"></span>38039</td>
<td class="instruction">JP Z,<a href="41272.html#41324">41324</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38042"></span>38042</td>
<td class="instruction">CALL <a href="41272.html#41476">41476</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38045"></span>38045</td>
<td class="instruction">JP NZ,<a href="41272.html#41324">41324</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38048"></span>38048</td>
<td class="instruction">LD A,134</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38050"></span>38050</td>
<td class="instruction">JR <a href="37850.html#38005">38005</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38052"></span>38052</td>
<td class="instruction">CALL <a href="35915.html#35995">35995</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38055"></span>38055</td>
<td class="instruction">LD A,(46825)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38058"></span>38058</td>
<td class="instruction">CALL <a href="40741.html#40744">40744</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38061"></span>38061</td>
<td class="instruction">CP 255</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38063"></span>38063</td>
<td class="instruction">JP Z,<a href="40822.html">40822</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38066"></span>38066</td>
<td class="instruction">LD IY,(46858)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38070"></span>38070</td>
<td class="instruction">BIT 5,(IY+7)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38074"></span>38074</td>
<td class="instruction">LD A,5</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38076"></span>38076</td>
<td class="instruction">JP Z,<a href="41272.html#41316">41316</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38079"></span>38079</td>
<td class="instruction">CALL <a href="40260.html">40260</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38082"></span>38082</td>
<td class="instruction">LD B,(IX+2)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38085"></span>38085</td>
<td class="instruction">LD IX,(46856)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38089"></span>38089</td>
<td class="instruction">LD (IX+1),255</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38093"></span>38093</td>
<td class="instruction">LD (IX+16),B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38096"></span>38096</td>
<td class="instruction">LD A,(46824)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38099"></span>38099</td>
<td class="instruction">JP <a href="39900.html#39901">39901</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="38102"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="30673.html">30673</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="38102"></span>38102</td>
<td class="instruction">PUSH IX</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38104"></span>38104</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38105"></span>38105</td>
<td class="instruction">CALL <a href="39702.html#39748">39748</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38108"></span>38108</td>
<td class="instruction">LD A,0</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38110"></span>38110</td>
<td class="instruction">JR Z,<a href="37850.html#38152">38152</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38112"></span>38112</td>
<td class="instruction">LD A,(46823)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38115"></span>38115</td>
<td class="instruction">LD IX,50992</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38119"></span>38119</td>
<td class="instruction">CALL <a href="40381.html">40381</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38122"></span>38122</td>
<td class="instruction">CP 255</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38124"></span>38124</td>
<td class="instruction">LD A,1</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38126"></span>38126</td>
<td class="instruction">JR NZ,<a href="37850.html#38152">38152</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38128"></span>38128</td>
<td class="instruction">CALL <a href="41272.html#41424">41424</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38131"></span>38131</td>
<td class="instruction">LD A,1</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38133"></span>38133</td>
<td class="instruction">JR Z,<a href="37850.html#38152">38152</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38135"></span>38135</td>
<td class="instruction">LD A,(46824)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38138"></span>38138</td>
<td class="instruction">CALL <a href="39882.html">39882</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38141"></span>38141</td>
<td class="instruction">LD A,(46823)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38144"></span>38144</td>
<td class="instruction">CALL <a href="39809.html">39809</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38147"></span>38147</td>
<td class="instruction">LD A,1</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38149"></span>38149</td>
<td class="instruction">JR C,<a href="37850.html#38152">38152</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38151"></span>38151</td>
<td class="instruction">SUB A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="38152"></span>38152</td>
<td class="instruction">LD (46843),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38155"></span>38155</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38156"></span>38156</td>
<td class="instruction">POP IX</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38158"></span>38158</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="38159"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routines at <a href="30673.html">30673</a> and <a href="38579.html">38579</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="38159"></span>38159</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38160"></span>38160</td>
<td class="instruction">PUSH IX</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38162"></span>38162</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38163"></span>38163</td>
<td class="instruction">CALL <a href="39702.html#39748">39748</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38166"></span>38166</td>
<td class="instruction">JP Z,<a href="37850.html#38362">38362</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38169"></span>38169</td>
<td class="instruction">CALL <a href="38381.html">38381</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38172"></span>38172</td>
<td class="instruction">JR NC,<a href="37850.html#38201">38201</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38174"></span>38174</td>
<td class="instruction">LD A,(46865)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38177"></span>38177</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38178"></span>38178</td>
<td class="instruction">JR NZ,<a href="37850.html#38193">38193</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38180"></span>38180</td>
<td class="instruction">CALL <a href="40056.html">40056</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38183"></span>38183</td>
<td class="instruction">JR NC,<a href="37850.html#38193">38193</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38185"></span>38185</td>
<td class="instruction">LD A,(46825)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38188"></span>38188</td>
<td class="instruction">CALL <a href="40056.html#40059">40059</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38191"></span>38191</td>
<td class="instruction">JR C,<a href="37850.html#38201">38201</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="38193"></span>38193</td>
<td class="instruction">LD HL,44996</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="44413.html#44996">"i see nothing here"</a></td>
</tr>
<tr>
<td class="address-1"><span id="38196"></span>38196</td>
<td class="instruction">CALL <a href="29405.html">29405</a></td>
<td class="comment-1" rowspan="1">Call <a href="29405.html">29405</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="38199"></span>38199</td>
<td class="instruction">JR <a href="37850.html#38299">38299</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="38201"></span>38201</td>
<td class="instruction">LD A,(46846)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38204"></span>38204</td>
<td class="instruction">CP 1</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38206"></span>38206</td>
<td class="instruction">JP Z,<a href="37850.html#38348">38348</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38209"></span>38209</td>
<td class="instruction">LD A,(46824)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38212"></span>38212</td>
<td class="instruction">CP 255</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38214"></span>38214</td>
<td class="instruction">JP Z,<a href="37850.html#38348">38348</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38217"></span>38217</td>
<td class="instruction">CALL <a href="39882.html">39882</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38220"></span>38220</td>
<td class="instruction">LD (46856),IX</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38224"></span>38224</td>
<td class="instruction">LD A,(46824)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38227"></span>38227</td>
<td class="instruction">CALL <a href="38579.html#38696">38696</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38230"></span>38230</td>
<td class="instruction">JR NZ,<a href="37850.html#38299">38299</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38232"></span>38232</td>
<td class="instruction">LD A,(46825)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38235"></span>38235</td>
<td class="instruction">CP 255</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38237"></span>38237</td>
<td class="instruction">JR Z,<a href="37850.html#38266">38266</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38239"></span>38239</td>
<td class="instruction">LD A,(46847)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38242"></span>38242</td>
<td class="instruction">CP 1</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38244"></span>38244</td>
<td class="instruction">JR Z,<a href="37850.html#38348">38348</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38246"></span>38246</td>
<td class="instruction">LD A,(46825)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38249"></span>38249</td>
<td class="instruction">CALL <a href="39882.html">39882</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38252"></span>38252</td>
<td class="instruction">LD (46858),IX</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38256"></span>38256</td>
<td class="instruction">CALL <a href="38579.html#38696">38696</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38259"></span>38259</td>
<td class="instruction">JR NZ,<a href="37850.html#38299">38299</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38261"></span>38261</td>
<td class="instruction">CALL <a href="41272.html#41424">41424</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38264"></span>38264</td>
<td class="instruction">JR Z,<a href="37850.html#38270">38270</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="38266"></span>38266</td>
<td class="instruction">LD IX,(46856)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="38270"></span>38270</td>
<td class="instruction">LD A,(46823)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38273"></span>38273</td>
<td class="instruction">CALL <a href="39809.html">39809</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38276"></span>38276</td>
<td class="instruction">JR NC,<a href="37850.html#38348">38348</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="38278"></span>38278</td>
<td class="instruction">LD L,(IX+1)</td>
<td class="comment-1" rowspan="2">Fetch the action address from the <a href="50992.html">action table</a> and store it in <span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="38281"></span>38281</td>
<td class="instruction">LD H,(IX+2)</td>
</tr>
<tr>
<td class="address-1"><span id="38284"></span>38284</td>
<td class="instruction">CALL <a href="39788.html">39788</a></td>
<td class="comment-1" rowspan="1">Call <a href="39788.html">39788</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="38287"></span>38287</td>
<td class="instruction">INC IX</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38289"></span>38289</td>
<td class="instruction">INC IX</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38291"></span>38291</td>
<td class="instruction">INC IX</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38293"></span>38293</td>
<td class="instruction">SUB A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38294"></span>38294</td>
<td class="instruction">CP (IX+0)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="38297"></span>38297</td>
<td class="instruction">JR Z,<a href="37850.html#38278">38278</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="38299"></span>38299</td>
<td class="instruction">LD A,(46842)</td>
<td class="comment-1" rowspan="3">If <a href="46810.html#46842">46842</a> is not $01 then jump to <a href="37850.html#38343">38343</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="38302"></span>38302</td>
<td class="instruction">CP 1</td>
</tr>
<tr>
<td class="address-1"><span id="38304"></span>38304</td>
<td class="instruction">JR NZ,<a href="37850.html#38343">38343</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="38306"></span>
<div class="comments">
<div class="paragraph">
This check is a little unnecessary as the first thing the routine at <a href="38381.html">38381</a> does, is to check exactly this...
</div>
</div>
</td>
</tr>
<tr>
<td class="address-1"><span id="38306"></span>38306</td>
<td class="instruction">LD A,(46826)</td>
<td class="comment-1" rowspan="3">If <a href="46810.html#46826">46826</a> is not $00 (i.e. "You") then skip the "is location lit" check, instead jump to <a href="37850.html#38319">38319</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="38309"></span>38309</td>
<td class="instruction">CP 0</td>
</tr>
<tr>
<td class="address-1"><span id="38311"></span>38311</td>
<td class="instruction">JR NZ,<a href="37850.html#38319">38319</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="38313"></span>
<div class="comments">
<div class="paragraph">
<a href="38381.html">38381</a> uses the carry flag to indicate if it is light or dark.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-1"><span id="38313"></span>38313</td>
<td class="instruction">CALL <a href="38381.html">38381</a></td>
<td class="comment-1" rowspan="2">If the location is dark then call <a href="29405.html">29405</a> to tell the user <a href="44413.html#44575">"it is dark"</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="38316"></span>38316</td>
<td class="instruction">CALL C,<a href="29405.html">29405</a></td>
</tr>
<tr>
<td class="address-2"><span id="38319"></span>38319</td>
<td class="instruction">LD A,(46823)</td>
<td class="comment-1" rowspan="2"><span class="register">B</span>=<a href="46810.html#46823">46823</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="38322"></span>38322</td>
<td class="instruction">LD B,A</td>
</tr>
<tr>
<td class="address-1"><span id="38323"></span>38323</td>
<td class="instruction">LD A,(46824)</td>
<td class="comment-1" rowspan="3">Call <a href="37850.html#38367">38367</a> with <span class="register">IX</span>=<a href="46810.html#46856">46856</a> and <span class="register">A</span>=<a href="46810.html#46824">46824</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="38326"></span>38326</td>
<td class="instruction">LD IX,(46856)</td>
</tr>
<tr>
<td class="address-1"><span id="38330"></span>38330</td>
<td class="instruction">CALL <a href="37850.html#38367">38367</a></td>
</tr>
<tr>
<td class="address-1"><span id="38333"></span>38333</td>
<td class="instruction">LD A,(46825)</td>
<td class="comment-1" rowspan="3">Call <a href="37850.html#38367">38367</a> with <span class="register">IX</span>=<a href="46810.html#46858">46858</a> and <span class="register">A</span>=<a href="46810.html#46825">46825</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="38336"></span>38336</td>
<td class="instruction">LD IX,(46858)</td>
</tr>
<tr>
<td class="address-1"><span id="38340"></span>38340</td>
<td class="instruction">CALL <a href="37850.html#38367">38367</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="38343"></span>
<div class="comments">
<div class="paragraph">
Performs housekeeping and returns.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="38343"></span>38343</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="3">Restore <span class="register">BC</span>, <span class="register">IX</span> and <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="38344"></span>38344</td>
<td class="instruction">POP IX</td>
</tr>
<tr>
<td class="address-1"><span id="38346"></span>38346</td>
<td class="instruction">POP HL</td>
</tr>
<tr>
<td class="address-1"><span id="38347"></span>38347</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="38348"></span>
<div class="comments">
<div class="paragraph">
Checks if the action given is valid.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="38348"></span>38348</td>
<td class="instruction">LD A,(46823)</td>
<td class="comment-1" rowspan="3">Call <a href="40381.html">40381</a> with <a href="50992.html">50992</a>, to match the key value of <a href="46810.html#46823">46823</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="38351"></span>38351</td>
<td class="instruction">LD IX,50992</td>
</tr>
<tr>
<td class="address-1"><span id="38355"></span>38355</td>
<td class="instruction">CALL <a href="40381.html">40381</a></td>
</tr>
<tr>
<td class="address-1"><span id="38358"></span>38358</td>
<td class="instruction">CP 255</td>
<td class="comment-1" rowspan="2">If the termination character was not reached because an action did match, jump to <a href="37850.html#38278">38278</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="38360"></span>38360</td>
<td class="instruction">JR NZ,<a href="37850.html#38278">38278</a></td>
</tr>
<tr>
<td class="address-2"><span id="38362"></span>38362</td>
<td class="instruction">CALL <a href="29390.html">29390</a></td>
<td class="comment-1" rowspan="2">Else, call <a href="29390.html">29390</a> and jump to <a href="37850.html#38343">38343</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="38365"></span>38365</td>
<td class="instruction">JR <a href="37850.html#38343">38343</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="38367"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="36853.html">36853</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="38367"></span>38367</td>
<td class="instruction">BIT 6,(IX+7)</td>
<td class="comment-1" rowspan="2">Return if the object is marked as being a "Fluid".</td>
</tr>
<tr>
<td class="address-1"><span id="38371"></span>38371</td>
<td class="instruction">RET Z</td>
</tr>
<tr>
<td class="address-1"><span id="38372"></span>38372</td>
<td class="instruction">BIT 3,(IX+7)</td>
<td class="comment-1" rowspan="2">Return if the object is not marked as "Gives Light".</td>
</tr>
<tr>
<td class="address-1"><span id="38376"></span>38376</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="address-1"><span id="38377"></span>38377</td>
<td class="instruction">CALL <a href="39557.html#39584">39584</a></td>
<td class="comment-1" rowspan="1">Call <a href="39557.html#39584">39584</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="38380"></span>38380</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="37790.html">37790</a>
</td>
<td class="up">Up: <a href="../maps/all.html#37850">Map</a></td>
<td class="next">
Next: <a href="38381.html">38381</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1982 Melbourne House</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.6.</div>
<div><a href="../../asm/93DA.html">Switch to hexadecimal</a>.</div>
</footer>
</body>
</html>