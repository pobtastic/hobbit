<!DOCTYPE html>
<html>
<head>
<title>The Hobbit: Routine at 82B3</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="8251.html">8251</a>
</td>
<td class="up">Up: <a href="../maps/all.html#82b3">Map</a></td>
<td class="next">
Next: <a href="83A0.html">83A0</a>
</td>
</tr>
</table>
<div class="description">82B3: Routine at 82B3</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routines at <a href="8251.html">8251</a>, <a href="83A0.html">DisplayLocHlpMsg</a>, <a href="83EF.html">GameOver</a>, <a href="8451.html">LoadGame</a> and <a href="84CC.html">SaveGame</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="82b3"></span>82B3</td>
<td class="instruction">LD A,($B6DE)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82b6"></span>82B6</td>
<td class="instruction">LD D,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82b7"></span>82B7</td>
<td class="instruction">JP <a href="7574.html#75b4">$75B4</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82ba"></span>82BA</td>
<td class="instruction">LD A,($B719)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82bd"></span>82BD</td>
<td class="instruction">CP $01</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82bf"></span>82BF</td>
<td class="instruction">JP NZ,<a href="77D1.html#7929">$7929</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82c2"></span>82C2</td>
<td class="instruction">LD A,$02</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82c4"></span>82C4</td>
<td class="instruction">LD ($B719),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82c7"></span>82C7</td>
<td class="instruction">LD A,(IY+$01)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82ca"></span>82CA</td>
<td class="instruction">OR $80</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82cc"></span>82CC</td>
<td class="instruction">LD (IY+$01),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82cf"></span>82CF</td>
<td class="instruction">JP <a href="7574.html#75b4">$75B4</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82d2"></span>82D2</td>
<td class="instruction">LD A,($B719)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82d5"></span>82D5</td>
<td class="instruction">CP $02</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82d7"></span>82D7</td>
<td class="instruction">JP Z,<a href="7574.html#75b4">$75B4</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82da"></span>82DA</td>
<td class="instruction">LD A,$01</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82dc"></span>82DC</td>
<td class="instruction">LD ($B719),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82df"></span>82DF</td>
<td class="instruction">JP <a href="7574.html#75b4">$75B4</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82e2"></span>82E2</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82e3"></span>82E3</td>
<td class="instruction">LD HL,$B6E0</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82e6"></span>82E6</td>
<td class="instruction">LD DE,$757F</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82e9"></span>82E9</td>
<td class="instruction">LD BC,$0006</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82ec"></span>82EC</td>
<td class="instruction">LDIR</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82ee"></span>82EE</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82ef"></span>82EF</td>
<td class="instruction">BIT 7,E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82f1"></span>82F1</td>
<td class="instruction">CALL <a href="82B3.html#82f7">$82F7</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82f4"></span>82F4</td>
<td class="instruction">JP <a href="7574.html#75b4">$75B4</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="82f7"></span>82F7</td>
<td class="instruction">JP Z,<a href="77D1.html#7838">$7838</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82fa"></span>82FA</td>
<td class="instruction">JP <a href="77D1.html#7850">$7850</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="82fd"></span>82FD</td>
<td class="instruction">LD A,D</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="82fe"></span>82FE</td>
<td class="instruction">LD ($824F),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8301"></span>8301</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8302"></span>8302</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8303"></span>8303</td>
<td class="instruction">PUSH IY</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8305"></span>8305</td>
<td class="instruction">LD A,($B706)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8308"></span>8308</td>
<td class="instruction">LD ($8250),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="830b"></span>830B</td>
<td class="instruction">LD DE,$FFE8</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="830e"></span>830E</td>
<td class="instruction">ADD IY,DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8310"></span>8310</td>
<td class="instruction">LD A,$01</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8312"></span>8312</td>
<td class="instruction">JP <a href="7574.html#758a">$758A</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8315"></span>8315</td>
<td class="instruction">LD A,($B71B)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8318"></span>8318</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8319"></span>8319</td>
<td class="instruction">JR Z,<a href="82B3.html#82fd">$82FD</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="831b"></span>831B</td>
<td class="instruction">DEC A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="831c"></span>831C</td>
<td class="instruction">LD ($B71B),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="831f"></span>831F</td>
<td class="instruction">LD A,($8250)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8322"></span>8322</td>
<td class="instruction">LD B,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8323"></span>8323</td>
<td class="instruction">LD A,($B706)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8326"></span>8326</td>
<td class="instruction">SUB B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8327"></span>8327</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8328"></span>8328</td>
<td class="instruction">LD C,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="832a"></span>832A</td>
<td class="instruction">JR Z,<a href="82B3.html#8378">$8378</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="832c"></span>832C</td>
<td class="instruction">POP IY</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="832e"></span>832E</td>
<td class="instruction">PUSH IY</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8330"></span>8330</td>
<td class="instruction">LD DE,$FFE8</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8333"></span>8333</td>
<td class="instruction">ADD IY,DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8335"></span>8335</td>
<td class="instruction">LD B,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="8336"></span>8336</td>
<td class="instruction">LD IX,$B738</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="833a"></span>833A</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="833b"></span>833B</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="833c"></span>833C</td>
<td class="instruction">LD DE,$0019</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="833f"></span>833F</td>
<td class="instruction">LD B,$08</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="8341"></span>8341</td>
<td class="instruction">LD A,(IX+$00)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8344"></span>8344</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8345"></span>8345</td>
<td class="instruction">JR Z,<a href="82B3.html#834b">$834B</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8347"></span>8347</td>
<td class="instruction">ADD IX,DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8349"></span>8349</td>
<td class="instruction">DJNZ <a href="82B3.html#8341">$8341</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="834b"></span>834B</td>
<td class="instruction">LD (IX+$00),$FF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="834f"></span>834F</td>
<td class="instruction">INC IX</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8351"></span>8351</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8352"></span>8352</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8353"></span>8353</td>
<td class="instruction">JR NZ,<a href="82B3.html#8378">$8378</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8355"></span>8355</td>
<td class="instruction">BIT 6,(IY+$01)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8359"></span>8359</td>
<td class="instruction">JR Z,<a href="82B3.html#8361">$8361</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="835b"></span>835B</td>
<td class="instruction">LD (IX-$01),$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="835f"></span>835F</td>
<td class="instruction">JR <a href="82B3.html#8373">$8373</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="8361"></span>8361</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8362"></span>8362</td>
<td class="instruction">LD B,$18</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="8364"></span>8364</td>
<td class="instruction">LD A,(IY+$00)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8367"></span>8367</td>
<td class="instruction">LD (IX+$00),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="836a"></span>836A</td>
<td class="instruction">INC IY</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="836c"></span>836C</td>
<td class="instruction">INC IX</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="836e"></span>836E</td>
<td class="instruction">DJNZ <a href="82B3.html#8364">$8364</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8370"></span>8370</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8371"></span>8371</td>
<td class="instruction">ADD IY,DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="8373"></span>8373</td>
<td class="instruction">ADD IY,DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8375"></span>8375</td>
<td class="instruction">INC C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8376"></span>8376</td>
<td class="instruction">DJNZ <a href="82B3.html#8336">$8336</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="8378"></span>8378</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8379"></span>8379</td>
<td class="instruction">LD ($B719),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="837c"></span>837C</td>
<td class="instruction">LD A,C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="837d"></span>837D</td>
<td class="instruction">LD ($B737),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8380"></span>8380</td>
<td class="instruction">POP IY</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8382"></span>8382</td>
<td class="instruction">LD A,($8250)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8385"></span>8385</td>
<td class="instruction">LD ($B706),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8388"></span>8388</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8389"></span>8389</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="838a"></span>838A</td>
<td class="instruction">LD A,($824F)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="838d"></span>838D</td>
<td class="instruction">LD D,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="838e"></span>838E</td>
<td class="instruction">JP <a href="7574.html#75b4">$75B4</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7574.html#75b4">75B4</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="8391"></span>8391</td>
<td class="instruction">CALL <a href="83EF.html#83f5">GameOver_Start</a></td>
<td class="comment-1" rowspan="1">Call <a href="83EF.html#83f5">GameOver_Start</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="8394"></span>8394</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8395"></span>8395</td>
<td class="instruction">IN A,($FE)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="8397"></span>8397</td>
<td class="instruction">AND %00011111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-4.</td>
</tr>
<tr>
<td class="address-1"><span id="8399"></span>8399</td>
<td class="instruction">CP $1F</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="839b"></span>839B</td>
<td class="instruction">JR Z,<a href="82B3.html#8394">$8394</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="839d"></span>839D</td>
<td class="instruction">JP <a href="6C00.html#6c27">ReStart</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="6C00.html#6c27">ReStart</a>.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="8251.html">8251</a>
</td>
<td class="up">Up: <a href="../maps/all.html#82b3">Map</a></td>
<td class="next">
Next: <a href="83A0.html">83A0</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1982 Melbourne House &copy; 2023 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.8.</div>
<div><a href="../dec/asm/33459.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>