<!DOCTYPE html>
<html>
<head>
<title>The Hobbit: Routine at 7F78</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="32631.html">7F77</a>
</td>
<td class="up">Up: <a href="../maps/all.html#32632">Map</a></td>
<td class="next">
Next: <a href="33361.html">8251</a>
</td>
</tr>
</table>
<div class="description">7F78: Drawing Routine</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="38443.html">YouSeeEntry</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">Drawing</td>
<td class="address-2"><span id="32632"></span>7F78</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="1">Store <span class="register">AF</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32633"></span>7F79</td>
<td class="instruction">LD A,($B707)</td>
<td class="comment-1" rowspan="3">If <a href="46810.html#46855">B707</a> is not $00 then jump to <a href="32632.html#32646">DrawingCheck</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32636"></span>7F7C</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32637"></span>7F7D</td>
<td class="instruction">JR NZ,<a href="32632.html#32646">DrawingCheck</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32639"></span>7F7F</td>
<td class="instruction">LD A,$FF</td>
<td class="comment-1" rowspan="2">Write $FF to <a href="32631.html">LocationID</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32641"></span>7F81</td>
<td class="instruction">LD ($7F77),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32644"></span>7F84</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="1">Restore <span class="register">AF</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32645"></span>7F85</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="32646"></span>
<div class="comments">
<div class="paragraph">
Drawing Check
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">DrawingCheck</td>
<td class="address-2"><span id="32646"></span>7F86</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="1">Retrieve the location ID from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32647"></span>7F87</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="1">Ensure that it's still on the stack for later.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32648"></span>7F88</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="4">Store <span class="register">HL</span>, <span class="register">BC</span>, <span class="register">DE</span> and <span class="register">IX</span> on the stack for later.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32649"></span>7F89</td>
<td class="instruction">PUSH BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32650"></span>7F8A</td>
<td class="instruction">PUSH DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32651"></span>7F8B</td>
<td class="instruction">PUSH IX</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32653"></span>7F8D</td>
<td class="instruction">LD IX,$CC00</td>
<td class="comment-1" rowspan="1"><span class="register">IX</span>=<a href="52224.html">LocGFXTable</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32657"></span>7F91</td>
<td class="instruction">CALL <a href="40381.html">IndexIdTable</a></td>
<td class="comment-1" rowspan="1">Call <a href="40381.html">IndexIdTable</a> - the Z flag is set if no data is found (<span class="register">A</span>=$FF).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32660"></span>7F94</td>
<td class="instruction">LD ($7F77),A</td>
<td class="comment-1" rowspan="1">Store the location ID at <a href="32631.html">LocationID</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32663"></span>7F97</td>
<td class="instruction">LD L,(IX+$01)</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>=Location graphics data address.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32666"></span>7F9A</td>
<td class="instruction">LD H,(IX+$02)</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32669"></span>7F9D</td>
<td class="instruction">CALL NZ,<a href="32632.html#32679">DrawingSetup</a></td>
<td class="comment-1" rowspan="1">If there is graphics data for this location then call <a href="32632.html#32679">DrawingSetup</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32672"></span>7FA0</td>
<td class="instruction">POP IX</td>
<td class="comment-1" rowspan="5">Restore <span class="register">IX</span>, <span class="register">DE</span>, <span class="register">BC</span>, <span class="register">HL</span> and <span class="register">AF</span> off the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32674"></span>7FA2</td>
<td class="instruction">POP DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32675"></span>7FA3</td>
<td class="instruction">POP BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32676"></span>7FA4</td>
<td class="instruction">POP HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32677"></span>7FA5</td>
<td class="instruction">POP AF</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32678"></span>7FA6</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="32679"></span>
<div class="comments">
<div class="paragraph">
Drawing routines.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">DrawingSetup</td>
<td class="address-2"><span id="32679"></span>7FA7</td>
<td class="instruction">PUSH IY</td>
<td class="comment-1" rowspan="2">Store <span class="register">IY</span> and <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32681"></span>7FA9</td>
<td class="instruction">PUSH HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32682"></span>7FAA</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="2"><span class="register">IY</span>=pointer to graphics data addresses.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32683"></span>7FAB</td>
<td class="instruction">POP IY</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32685"></span>7FAD</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="2">Store <span class="register">DE</span> and <span class="register">BC</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32686"></span>7FAE</td>
<td class="instruction">PUSH BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32687"></span>7FAF</td>
<td class="instruction">CALL <a href="32632.html#33291">DrawingClear</a></td>
<td class="comment-1" rowspan="1">Call <a href="32632.html#33291">DrawingClear</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32690"></span>7FB2</td>
<td class="instruction">LD D,$7F</td>
<td class="comment-1" rowspan="1"><span class="register">D</span>=$7F.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32692"></span>7FB4</td>
<td class="instruction">LD E,$3F</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=$3F.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32694"></span>7FB6</td>
<td class="instruction">LD B,$01</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=$01.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32696"></span>7FB8</td>
<td class="instruction">LD C,$01</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=$01.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32698"></span>7FBA</td>
<td class="instruction">LD L,$01</td>
<td class="comment-1" rowspan="1"><span class="register">L</span>=$01.</td>
</tr>
<tr>
<td class="asm-label">DrawingLoop</td>
<td class="address-2"><span id="32700"></span>7FBC</td>
<td class="instruction">LD A,(IY+$00)</td>
<td class="comment-1" rowspan="1">Fetch the next drawing instruction.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32703"></span>7FBF</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="2">If the value is zero, jump to <a href="32632.html#32873">DrawingEnd</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32704"></span>7FC0</td>
<td class="instruction">JP Z,<a href="32632.html#32873">DrawingEnd</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32707"></span>7FC3</td>
<td class="instruction">INC IY</td>
<td class="comment-1" rowspan="1">Increment the graphics data pointer by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32709"></span>7FC5</td>
<td class="instruction">CP $08</td>
<td class="comment-1" rowspan="2">If the graphics data value which was fetched is not $08 (move to X/Y) jump to <a href="32632.html#32725">Drawing_0</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32711"></span>7FC7</td>
<td class="instruction">JR NZ,<a href="32632.html#32725">Drawing_0</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="32713"></span>
<div class="comments">
<div class="paragraph">
Moves the "pen" held in <span class="register">DE</span> to a screen location.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32713"></span>7FC9</td>
<td class="instruction">LD D,(IY+$00)</td>
<td class="comment-1" rowspan="4">Populate <span class="register">DE</span> with two values from the graphics data and increment the pointer by two.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32716"></span>7FCC</td>
<td class="instruction">INC IY</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32718"></span>7FCE</td>
<td class="instruction">LD E,(IY+$00)</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32721"></span>7FD1</td>
<td class="instruction">INC IY</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32723"></span>7FD3</td>
<td class="instruction">JR <a href="32632.html#32700">DrawingLoop</a></td>
<td class="comment-1" rowspan="1">Jump back to <a href="32632.html#32700">DrawingLoop</a> to fetch the next drawing instruction.</td>
</tr>
<tr>
<td class="asm-label">Drawing_0</td>
<td class="address-2"><span id="32725"></span>7FD5</td>
<td class="instruction">BIT 7,A</td>
<td class="comment-1" rowspan="2">If bit 7 is set, jump to <a href="32632.html#32762">Drawing_1</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32727"></span>7FD7</td>
<td class="instruction">JR Z,<a href="32632.html#32762">Drawing_1</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32729"></span>7FD9</td>
<td class="instruction">LD B,A</td>
<td class="comment-1" rowspan="1">Temporarily store <span class="register">A</span> in <span class="register">B</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32730"></span>7FDA</td>
<td class="instruction">AND %00000111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-2.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32732"></span>7FDC</td>
<td class="instruction">LD C,A</td>
<td class="comment-1" rowspan="1">Store this in <span class="register">C</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32733"></span>7FDD</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="1">Restore the old value of <span class="register">A</span> (from <span class="register">B</span>).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32734"></span>7FDE</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1">Rotate <span class="register">A</span> right one bit.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32735"></span>7FDF</td>
<td class="instruction">AND %00111100</td>
<td class="comment-1" rowspan="1">Keep only bits 2-5.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32737"></span>7FE1</td>
<td class="instruction">LD B,A</td>
<td class="comment-1" rowspan="1">Store this in <span class="register">B</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32738"></span>7FE2</td>
<td class="instruction">LD A,(IY+$00)</td>
<td class="comment-1" rowspan="1">Fetch the next drawing instruction.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32741"></span>7FE5</td>
<td class="instruction">AND %00111111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-5.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32743"></span>7FE7</td>
<td class="instruction">LD L,A</td>
<td class="comment-1" rowspan="1">Store this in <span class="register">L</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32744"></span>7FE8</td>
<td class="instruction">INC L</td>
<td class="comment-1" rowspan="1">Increment <span class="register">L</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32745"></span>7FE9</td>
<td class="instruction">LD A,(IY+$00)</td>
<td class="comment-1" rowspan="1">Fetch the previous drawing instruction again in <span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32748"></span>7FEC</td>
<td class="instruction">INC IY</td>
<td class="comment-1" rowspan="1">Increment the graphics data pointer by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32750"></span>7FEE</td>
<td class="instruction">RLCA</td>
<td class="comment-1" rowspan="2">Rotate <span class="register">A</span> left two bits.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32751"></span>7FEF</td>
<td class="instruction">RLCA</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32752"></span>7FF0</td>
<td class="instruction">AND %00000011</td>
<td class="comment-1" rowspan="1">Keep only bits 0-1.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32754"></span>7FF2</td>
<td class="instruction">OR B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32755"></span>7FF3</td>
<td class="instruction">LD B,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32756"></span>7FF4</td>
<td class="instruction">INC B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32757"></span>7FF5</td>
<td class="instruction">CALL <a href="32632.html#33105">Drawing_30</a></td>
<td class="comment-1" rowspan="1">Call <a href="32632.html#33105">Drawing_30</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32760"></span>7FF8</td>
<td class="instruction">JR <a href="32632.html#32700">DrawingLoop</a></td>
<td class="comment-1" rowspan="1">Jump back to <a href="32632.html#32700">DrawingLoop</a> to fetch the next drawing instruction.</td>
</tr>
<tr>
<td class="asm-label">Drawing_1</td>
<td class="address-2"><span id="32762"></span>7FFA</td>
<td class="instruction">BIT 6,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32764"></span>7FFC</td>
<td class="instruction">JR Z,<a href="32632.html#32786">Drawing_2</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32766"></span>7FFE</td>
<td class="instruction">AND %00000111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-2.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32768"></span>8000</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32769"></span>8001</td>
<td class="instruction">LD D,(IY+$00)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32772"></span>8004</td>
<td class="instruction">INC IY</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32774"></span>8006</td>
<td class="instruction">LD E,(IY+$00)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32777"></span>8009</td>
<td class="instruction">INC IY</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32779"></span>800B</td>
<td class="instruction">CALL <a href="32632.html#32881">Drawing_7</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32782"></span>800E</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32783"></span>800F</td>
<td class="instruction">JP <a href="32632.html#32700">DrawingLoop</a></td>
<td class="comment-1" rowspan="1">Jump back to <a href="32632.html#32700">DrawingLoop</a> to fetch the next drawing instruction.</td>
</tr>
<tr>
<td class="asm-label">Drawing_2</td>
<td class="address-2"><span id="32786"></span>8012</td>
<td class="instruction">BIT 5,A</td>
<td class="comment-1" rowspan="2">If bit 5 is set then jump back to <a href="32632.html#32700">DrawingLoop</a> to fetch the next drawing instruction.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32788"></span>8014</td>
<td class="instruction">JP Z,<a href="32632.html#32700">DrawingLoop</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32791"></span>8017</td>
<td class="instruction">AND %00000111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-2.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32793"></span>8019</td>
<td class="instruction">RLCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32794"></span>801A</td>
<td class="instruction">RLCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32795"></span>801B</td>
<td class="instruction">RLCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32796"></span>801C</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32797"></span>801D</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32798"></span>801E</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32799"></span>801F</td>
<td class="instruction">LD C,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32800"></span>8020</td>
<td class="instruction">LD H,(IY+$00)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32803"></span>8023</td>
<td class="instruction">INC IY</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32805"></span>8025</td>
<td class="instruction">LD L,(IY+$00)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32808"></span>8028</td>
<td class="instruction">INC IY</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_3</td>
<td class="address-2"><span id="32810"></span>802A</td>
<td class="instruction">LD A,(IY+$00)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32813"></span>802D</td>
<td class="instruction">INC IY</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32815"></span>802F</td>
<td class="instruction">CP $FF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32817"></span>8031</td>
<td class="instruction">JR Z,<a href="32632.html#32867">Drawing_6</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32819"></span>8033</td>
<td class="instruction">LD B,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32820"></span>8034</td>
<td class="instruction">AND %00000011</td>
<td class="comment-1" rowspan="1">Keep only bits 0-1.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32822"></span>8036</td>
<td class="instruction">LD E,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32823"></span>8037</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32824"></span>8038</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32825"></span>8039</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32826"></span>803A</td>
<td class="instruction">AND %00111111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-5.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32828"></span>803C</td>
<td class="instruction">INC A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32829"></span>803D</td>
<td class="instruction">LD B,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_4</td>
<td class="address-2"><span id="32830"></span>803E</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32831"></span>803F</td>
<td class="instruction">AND %00000111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-2.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32833"></span>8041</td>
<td class="instruction">RLCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32834"></span>8042</td>
<td class="instruction">RLCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32835"></span>8043</td>
<td class="instruction">RLCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32836"></span>8044</td>
<td class="instruction">CP C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32837"></span>8045</td>
<td class="instruction">JR NZ,<a href="32632.html#32841">Drawing_5</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32839"></span>8047</td>
<td class="instruction">XOR $38</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_5</td>
<td class="address-2"><span id="32841"></span>8049</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32842"></span>804A</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32843"></span>804B</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32844"></span>804C</td>
<td class="instruction">OR C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32845"></span>804D</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32846"></span>804E</td>
<td class="instruction">LD A,E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32847"></span>804F</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32848"></span>8050</td>
<td class="instruction">CALL Z,<a href="32632.html#33013">Drawing_18</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32851"></span>8053</td>
<td class="instruction">DEC A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32852"></span>8054</td>
<td class="instruction">CALL Z,<a href="32632.html#33057">Drawing_23</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32855"></span>8057</td>
<td class="instruction">DEC A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32856"></span>8058</td>
<td class="instruction">CALL Z,<a href="32632.html#33030">Drawing_20</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32859"></span>805B</td>
<td class="instruction">DEC A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32860"></span>805C</td>
<td class="instruction">CALL Z,<a href="32632.html#33047">Drawing_21</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32863"></span>805F</td>
<td class="instruction">DJNZ <a href="32632.html#32830">Drawing_4</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32865"></span>8061</td>
<td class="instruction">JR <a href="32632.html#32810">Drawing_3</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_6</td>
<td class="address-2"><span id="32867"></span>8063</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32868"></span>8064</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32869"></span>8065</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32870"></span>8066</td>
<td class="instruction">JP <a href="32632.html#32700">DrawingLoop</a></td>
<td class="comment-1" rowspan="1">Jump back to <a href="32632.html#32700">DrawingLoop</a> to fetch the next drawing instruction.</td>
</tr>
<tr>
<td class="asm-label">DrawingEnd</td>
<td class="address-2"><span id="32873"></span>8069</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="4">Restore <span class="register">BC</span>, <span class="register">DE</span>, <span class="register">HL</span> and <span class="register">IY</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32874"></span>806A</td>
<td class="instruction">POP DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32875"></span>806B</td>
<td class="instruction">POP HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32876"></span>806C</td>
<td class="instruction">POP IY</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32878"></span>806E</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32879"></span>806F</td>
<td class="instruction">DEFB $00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_7</td>
<td class="address-2"><span id="32881"></span>8071</td>
<td class="instruction">LD ($824E),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32884"></span>8074</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32885"></span>8075</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32886"></span>8076</td>
<td class="instruction">LD HL,$0080</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32889"></span>8079</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_8</td>
<td class="address-2"><span id="32890"></span>807A</td>
<td class="instruction">CALL <a href="32632.html#33006">Drawing_17</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32893"></span>807D</td>
<td class="instruction">JR NZ,<a href="32632.html#32902">Drawing_9</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32895"></span>807F</td>
<td class="instruction">CALL <a href="32632.html#33096">Drawing_29</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32898"></span>8082</td>
<td class="instruction">JR NZ,<a href="32632.html#32890">Drawing_8</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32900"></span>8084</td>
<td class="instruction">JR <a href="32632.html#32908">Drawing_10</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_9</td>
<td class="address-2"><span id="32902"></span>8086</td>
<td class="instruction">CALL <a href="32632.html#33205">Drawing_46</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32905"></span>8089</td>
<td class="instruction">CALL <a href="32632.html#33089">Drawing_28</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_10</td>
<td class="address-2"><span id="32908"></span>808C</td>
<td class="instruction">LD HL,$0000</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32911"></span>808F</td>
<td class="instruction">LD ($806F),HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_11</td>
<td class="address-2"><span id="32914"></span>8092</td>
<td class="instruction">CALL <a href="32632.html#33067">Drawing_25</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32917"></span>8095</td>
<td class="instruction">LD A,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32919"></span>8097</td>
<td class="instruction">JR Z,<a href="32632.html#32942">Drawing_13</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32921"></span>8099</td>
<td class="instruction">CALL <a href="32632.html#33006">Drawing_17</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32924"></span>809C</td>
<td class="instruction">LD A,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32926"></span>809E</td>
<td class="instruction">JR NZ,<a href="32632.html#32937">Drawing_12</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32928"></span>80A0</td>
<td class="instruction">LD A,($806F)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32931"></span>80A3</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32932"></span>80A4</td>
<td class="instruction">JR NZ,<a href="32632.html#32937">Drawing_12</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32934"></span>80A6</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32935"></span>80A7</td>
<td class="instruction">LD A,$01</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_12</td>
<td class="address-2"><span id="32937"></span>80A9</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32938"></span>80AA</td>
<td class="instruction">CALL <a href="32632.html#33082">Drawing_27</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32941"></span>80AD</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_13</td>
<td class="address-2"><span id="32942"></span>80AE</td>
<td class="instruction">LD ($806F),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32945"></span>80B1</td>
<td class="instruction">CALL <a href="32632.html#33082">Drawing_27</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32948"></span>80B4</td>
<td class="instruction">LD A,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32950"></span>80B6</td>
<td class="instruction">JR Z,<a href="32632.html#32973">Drawing_15</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32952"></span>80B8</td>
<td class="instruction">CALL <a href="32632.html#33006">Drawing_17</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32955"></span>80BB</td>
<td class="instruction">LD A,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32957"></span>80BD</td>
<td class="instruction">JR NZ,<a href="32632.html#32968">Drawing_14</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32959"></span>80BF</td>
<td class="instruction">LD A,($8070)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32962"></span>80C2</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32963"></span>80C3</td>
<td class="instruction">JR NZ,<a href="32632.html#32968">Drawing_14</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32965"></span>80C5</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32966"></span>80C6</td>
<td class="instruction">LD A,$01</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_14</td>
<td class="address-2"><span id="32968"></span>80C8</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32969"></span>80C9</td>
<td class="instruction">CALL <a href="32632.html#33067">Drawing_25</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32972"></span>80CC</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_15</td>
<td class="address-2"><span id="32973"></span>80CD</td>
<td class="instruction">LD ($8070),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32976"></span>80D0</td>
<td class="instruction">CALL <a href="32632.html#33205">Drawing_46</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32979"></span>80D3</td>
<td class="instruction">CALL <a href="32632.html#33089">Drawing_28</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32982"></span>80D6</td>
<td class="instruction">JR Z,<a href="32632.html#32992">Drawing_16</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32984"></span>80D8</td>
<td class="instruction">CALL <a href="32632.html#33006">Drawing_17</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32987"></span>80DB</td>
<td class="instruction">JR Z,<a href="32632.html#32914">Drawing_11</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32989"></span>80DD</td>
<td class="instruction">CALL <a href="32632.html#33205">Drawing_46</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_16</td>
<td class="address-2"><span id="32992"></span>80E0</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32993"></span>80E1</td>
<td class="instruction">LD A,E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32994"></span>80E2</td>
<td class="instruction">CP $80</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32996"></span>80E4</td>
<td class="instruction">JR NZ,<a href="32632.html#32890">Drawing_8</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="32998"></span>80E6</td>
<td class="instruction">LD A,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33000"></span>80E8</td>
<td class="instruction">LD ($824E),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33003"></span>80EB</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="2">Restore <span class="register">HL</span> and <span class="register">DE</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33004"></span>80EC</td>
<td class="instruction">POP DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33005"></span>80ED</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label">Drawing_17</td>
<td class="address-2"><span id="33006"></span>80EE</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33007"></span>80EF</td>
<td class="instruction">CALL <a href="32632.html#33246">Drawing_48</a></td>
<td class="comment-1" rowspan="1">Call <a href="32632.html#33246">Drawing_48</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33010"></span>80F2</td>
<td class="instruction">AND (HL)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33011"></span>80F3</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1">Restore <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33012"></span>80F4</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label">Drawing_18</td>
<td class="address-2"><span id="33013"></span>80F5</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="2">Stash <span class="register">AF</span> and <span class="register">DE</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33014"></span>80F6</td>
<td class="instruction">PUSH DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33015"></span>80F7</td>
<td class="instruction">LD DE,$0020</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33018"></span>80FA</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33019"></span>80FB</td>
<td class="instruction">SBC HL,DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33021"></span>80FD</td>
<td class="instruction">LD A,H</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33022"></span>80FE</td>
<td class="instruction">CP $57</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33024"></span>8100</td>
<td class="instruction">JR NZ,<a href="32632.html#33027">Drawing_19</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33026"></span>8102</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_19</td>
<td class="address-2"><span id="33027"></span>8103</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="2">Restore <span class="register">DE</span> and <span class="register">AF</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33028"></span>8104</td>
<td class="instruction">POP AF</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33029"></span>8105</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label">Drawing_20</td>
<td class="address-2"><span id="33030"></span>8106</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="2">Stash <span class="register">AF</span> and <span class="register">DE</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33031"></span>8107</td>
<td class="instruction">PUSH DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33032"></span>8108</td>
<td class="instruction">LD DE,$0020</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>=<span class="register">HL</span>+$0020.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33035"></span>810B</td>
<td class="instruction">ADD HL,DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33036"></span>810C</td>
<td class="instruction">LD A,H</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33037"></span>810D</td>
<td class="instruction">CP $5A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33039"></span>810F</td>
<td class="instruction">JR NZ,$8113</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33041"></span>8111</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33042"></span>8112</td>
<td class="instruction">SBC HL,DE</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33044"></span>8114</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="2">Restore <span class="register">DE</span> and <span class="register">AF</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33045"></span>8115</td>
<td class="instruction">POP AF</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33046"></span>8116</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label">Drawing_21</td>
<td class="address-2"><span id="33047"></span>8117</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33048"></span>8118</td>
<td class="instruction">DEC HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33049"></span>8119</td>
<td class="instruction">LD A,H</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33050"></span>811A</td>
<td class="instruction">CP $57</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33052"></span>811C</td>
<td class="instruction">JR NZ,<a href="32632.html#33055">Drawing_22</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33054"></span>811E</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_22</td>
<td class="address-2"><span id="33055"></span>811F</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33056"></span>8120</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label">Drawing_23</td>
<td class="address-2"><span id="33057"></span>8121</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33058"></span>8122</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33059"></span>8123</td>
<td class="instruction">LD A,H</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33060"></span>8124</td>
<td class="instruction">CP $5A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33062"></span>8126</td>
<td class="instruction">JR NZ,<a href="32632.html#33065">Drawing_24</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33064"></span>8128</td>
<td class="instruction">DEC HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_24</td>
<td class="address-2"><span id="33065"></span>8129</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33066"></span>812A</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label">Drawing_25</td>
<td class="address-2"><span id="33067"></span>812B</td>
<td class="instruction">INC E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33068"></span>812C</td>
<td class="instruction">BIT 7,E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33070"></span>812E</td>
<td class="instruction">JR Z,<a href="32632.html#33077">Drawing_26</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33072"></span>8130</td>
<td class="instruction">DEC E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33073"></span>8131</td>
<td class="instruction">LD H,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33074"></span>8132</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33075"></span>8133</td>
<td class="instruction">LD A,H</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33076"></span>8134</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label">Drawing_26</td>
<td class="address-2"><span id="33077"></span>8135</td>
<td class="instruction">LD H,A</td>
<td class="comment-1" rowspan="3">Set bit 0 of <span class="register">A</span> (using <span class="register">H</span>).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33078"></span>8136</td>
<td class="instruction">OR $01</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33080"></span>8138</td>
<td class="instruction">LD A,H</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33081"></span>8139</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label">Drawing_27</td>
<td class="address-2"><span id="33082"></span>813A</td>
<td class="instruction">DEC E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33083"></span>813B</td>
<td class="instruction">BIT 7,E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33085"></span>813D</td>
<td class="instruction">JR Z,<a href="32632.html#33077">Drawing_26</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33087"></span>813F</td>
<td class="instruction">INC E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33088"></span>8140</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label">Drawing_28</td>
<td class="address-2"><span id="33089"></span>8141</td>
<td class="instruction">INC D</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33090"></span>8142</td>
<td class="instruction">RET NZ</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33091"></span>8143</td>
<td class="instruction">DEC D</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33092"></span>8144</td>
<td class="instruction">LD H,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33093"></span>8145</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33094"></span>8146</td>
<td class="instruction">LD A,H</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33095"></span>8147</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label">Drawing_29</td>
<td class="address-2"><span id="33096"></span>8148</td>
<td class="instruction">DEC D</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33097"></span>8149</td>
<td class="instruction">LD H,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33098"></span>814A</td>
<td class="instruction">LD A,D</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33099"></span>814B</td>
<td class="instruction">CP $FF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33101"></span>814D</td>
<td class="instruction">LD A,H</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33102"></span>814E</td>
<td class="instruction">RET NZ</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33103"></span>814F</td>
<td class="instruction">INC D</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33104"></span>8150</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label">Drawing_30</td>
<td class="address-2"><span id="33105"></span>8151</td>
<td class="instruction">BIT 0,C</td>
<td class="comment-1" rowspan="2">If bit 0 of <span class="register">C</span> is not set then jump to <a href="32632.html#33157">Drawing_38</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33107"></span>8153</td>
<td class="instruction">JR NZ,<a href="32632.html#33157">Drawing_38</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33109"></span>8155</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="2">Stash <span class="register">HL</span> and <span class="register">BC</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33110"></span>8156</td>
<td class="instruction">PUSH BC</td>
</tr>
<tr>
<td class="asm-label">Drawing_31</td>
<td class="address-2"><span id="33111"></span>8157</td>
<td class="instruction">CALL <a href="32632.html#33205">Drawing_46</a></td>
<td class="comment-1" rowspan="1">Call <a href="32632.html#33205">Drawing_46</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33114"></span>815A</td>
<td class="instruction">BIT 2,C</td>
<td class="comment-1" rowspan="2">If bit 2 of <span class="register">C</span> is set then jump to <a href="32632.html#33125">Drawing_32</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33116"></span>815C</td>
<td class="instruction">JR Z,<a href="32632.html#33125">Drawing_32</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33118"></span>815E</td>
<td class="instruction">CALL <a href="32632.html#33096">Drawing_29</a></td>
<td class="comment-1" rowspan="1">Call <a href="32632.html#33096">Drawing_29</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33121"></span>8161</td>
<td class="instruction">JR Z,<a href="32632.html#33154">Drawing_37</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33123"></span>8163</td>
<td class="instruction">JR <a href="32632.html#33130">Drawing_33</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="32632.html#33130">Drawing_33</a>.</td>
</tr>
<tr>
<td class="asm-label">Drawing_32</td>
<td class="address-2"><span id="33125"></span>8165</td>
<td class="instruction">CALL <a href="32632.html#33089">Drawing_28</a></td>
<td class="comment-1" rowspan="1">Call <a href="32632.html#33089">Drawing_28</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33128"></span>8168</td>
<td class="instruction">JR Z,<a href="32632.html#33154">Drawing_37</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_33</td>
<td class="address-2"><span id="33130"></span>816A</td>
<td class="instruction">DEC B</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">B</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33131"></span>816B</td>
<td class="instruction">JR NZ,<a href="32632.html#33151">Drawing_36</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="32632.html#33151">Drawing_36</a> if it is not zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33133"></span>816D</td>
<td class="instruction">BIT 1,C</td>
<td class="comment-1" rowspan="2">If bit 1 of <span class="register">C</span> is set then jump to <a href="32632.html#33144">Drawing_34</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33135"></span>816F</td>
<td class="instruction">JR Z,<a href="32632.html#33144">Drawing_34</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33137"></span>8171</td>
<td class="instruction">CALL <a href="32632.html#33082">Drawing_27</a></td>
<td class="comment-1" rowspan="1">Call <a href="32632.html#33082">Drawing_27</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33140"></span>8174</td>
<td class="instruction">JR Z,<a href="32632.html#33154">Drawing_37</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33142"></span>8176</td>
<td class="instruction">JR <a href="32632.html#33149">Drawing_35</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_34</td>
<td class="address-2"><span id="33144"></span>8178</td>
<td class="instruction">CALL <a href="32632.html#33067">Drawing_25</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33147"></span>817B</td>
<td class="instruction">JR Z,<a href="32632.html#33154">Drawing_37</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_35</td>
<td class="address-2"><span id="33149"></span>817D</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33150"></span>817E</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_36</td>
<td class="address-2"><span id="33151"></span>817F</td>
<td class="instruction">DEC L</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33152"></span>8180</td>
<td class="instruction">JR NZ,<a href="32632.html#33111">Drawing_31</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_37</td>
<td class="address-2"><span id="33154"></span>8182</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="2">Restore <span class="register">BC</span> and <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33155"></span>8183</td>
<td class="instruction">POP HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33156"></span>8184</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label">Drawing_38</td>
<td class="address-2"><span id="33157"></span>8185</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="2">Stash <span class="register">HL</span> and <span class="register">BC</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33158"></span>8186</td>
<td class="instruction">PUSH BC</td>
</tr>
<tr>
<td class="asm-label">Drawing_39</td>
<td class="address-2"><span id="33159"></span>8187</td>
<td class="instruction">CALL <a href="32632.html#33205">Drawing_46</a></td>
<td class="comment-1" rowspan="1">Call <a href="32632.html#33205">Drawing_46</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33162"></span>818A</td>
<td class="instruction">BIT 1,C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33164"></span>818C</td>
<td class="instruction">JR Z,<a href="32632.html#33173">Drawing_40</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33166"></span>818E</td>
<td class="instruction">CALL <a href="32632.html#33082">Drawing_27</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33169"></span>8191</td>
<td class="instruction">JR Z,<a href="32632.html#33202">Drawing_45</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33171"></span>8193</td>
<td class="instruction">JR <a href="32632.html#33178">Drawing_41</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_40</td>
<td class="address-2"><span id="33173"></span>8195</td>
<td class="instruction">CALL <a href="32632.html#33067">Drawing_25</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33176"></span>8198</td>
<td class="instruction">JR Z,<a href="32632.html#33202">Drawing_45</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_41</td>
<td class="address-2"><span id="33178"></span>819A</td>
<td class="instruction">DEC B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33179"></span>819B</td>
<td class="instruction">JR NZ,<a href="32632.html#33199">Drawing_44</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33181"></span>819D</td>
<td class="instruction">BIT 2,C</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33183"></span>819F</td>
<td class="instruction">JR Z,<a href="32632.html#33192">Drawing_42</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33185"></span>81A1</td>
<td class="instruction">CALL <a href="32632.html#33096">Drawing_29</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33188"></span>81A4</td>
<td class="instruction">JR Z,<a href="32632.html#33202">Drawing_45</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33190"></span>81A6</td>
<td class="instruction">JR <a href="32632.html#33197">Drawing_43</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_42</td>
<td class="address-2"><span id="33192"></span>81A8</td>
<td class="instruction">CALL <a href="32632.html#33089">Drawing_28</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33195"></span>81AB</td>
<td class="instruction">JR Z,<a href="32632.html#33202">Drawing_45</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_43</td>
<td class="address-2"><span id="33197"></span>81AD</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33198"></span>81AE</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_44</td>
<td class="address-2"><span id="33199"></span>81AF</td>
<td class="instruction">DEC L</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33200"></span>81B0</td>
<td class="instruction">JR NZ,<a href="32632.html#33159">Drawing_39</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_45</td>
<td class="address-2"><span id="33202"></span>81B2</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="2">Restore <span class="register">BC</span> and <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33203"></span>81B3</td>
<td class="instruction">POP HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33204"></span>81B4</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label">Drawing_46</td>
<td class="address-2"><span id="33205"></span>81B5</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33206"></span>81B6</td>
<td class="instruction">CALL <a href="32632.html#33246">Drawing_48</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33209"></span>81B9</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33210"></span>81BA</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33211"></span>81BB</td>
<td class="instruction">LD A,H</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33212"></span>81BC</td>
<td class="instruction">AND %00011000</td>
<td class="comment-1" rowspan="1">Keep only bits 3-4.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33214"></span>81BE</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33215"></span>81BF</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33216"></span>81C0</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33217"></span>81C1</td>
<td class="instruction">ADD A,$58</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33219"></span>81C3</td>
<td class="instruction">LD H,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33220"></span>81C4</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33221"></span>81C5</td>
<td class="instruction">AND %00111000</td>
<td class="comment-1" rowspan="1">Keep only bits 3-5.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33223"></span>81C7</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33224"></span>81C8</td>
<td class="instruction">LD A,($824E)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33227"></span>81CB</td>
<td class="instruction">RLCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33228"></span>81CC</td>
<td class="instruction">RLCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33229"></span>81CD</td>
<td class="instruction">RLCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33230"></span>81CE</td>
<td class="instruction">CP (HL)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33231"></span>81CF</td>
<td class="instruction">JR NZ,<a href="32632.html#33235">Drawing_47</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33233"></span>81D1</td>
<td class="instruction">XOR $38</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label">Drawing_47</td>
<td class="address-2"><span id="33235"></span>81D3</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33236"></span>81D4</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33237"></span>81D5</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33238"></span>81D6</td>
<td class="instruction">OR (HL)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33239"></span>81D7</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33240"></span>81D8</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33241"></span>81D9</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33242"></span>81DA</td>
<td class="instruction">OR (HL)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33243"></span>81DB</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33244"></span>81DC</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33245"></span>81DD</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label">Drawing_48</td>
<td class="address-2"><span id="33246"></span>81DE</td>
<td class="instruction">LD A,$7F</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33248"></span>81E0</td>
<td class="instruction">SUB E</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33249"></span>81E1</td>
<td class="instruction">LD L,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33250"></span>81E2</td>
<td class="instruction">AND %00000111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-2.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33252"></span>81E4</td>
<td class="instruction">OR $40</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33254"></span>81E6</td>
<td class="instruction">LD H,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33255"></span>81E7</td>
<td class="instruction">LD A,L</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33256"></span>81E8</td>
<td class="instruction">AND %11000000</td>
<td class="comment-1" rowspan="1">Keep only bits 6-7.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33258"></span>81EA</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33259"></span>81EB</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33260"></span>81EC</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33261"></span>81ED</td>
<td class="instruction">OR H</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33262"></span>81EE</td>
<td class="instruction">LD H,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33263"></span>81EF</td>
<td class="instruction">LD A,L</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33264"></span>81F0</td>
<td class="instruction">AND %00111000</td>
<td class="comment-1" rowspan="1">Keep only bits 3-5.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33266"></span>81F2</td>
<td class="instruction">RLCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33267"></span>81F3</td>
<td class="instruction">RLCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33268"></span>81F4</td>
<td class="instruction">LD L,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33269"></span>81F5</td>
<td class="instruction">LD A,D</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33270"></span>81F6</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33271"></span>81F7</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33272"></span>81F8</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33273"></span>81F9</td>
<td class="instruction">AND %00011111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-4.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33275"></span>81FB</td>
<td class="instruction">OR L</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33276"></span>81FC</td>
<td class="instruction">LD L,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33277"></span>81FD</td>
<td class="instruction">LD A,D</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33278"></span>81FE</td>
<td class="instruction">AND %00000111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-2.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33280"></span>8200</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1">Stash <span class="register">BC</span> on the stack temporarily.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33281"></span>8201</td>
<td class="instruction">LD B,A</td>
<td class="comment-1" rowspan="1">Copy <span class="register">A</span> to <span class="register">B</span> used as a counter for the rotate command.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33282"></span>8202</td>
<td class="instruction">INC B</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33283"></span>8203</td>
<td class="instruction">LD A,$01</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=00000001.</td>
</tr>
<tr>
<td class="asm-label">Drawing_49</td>
<td class="address-2"><span id="33285"></span>8205</td>
<td class="instruction">RRC A</td>
<td class="comment-1" rowspan="1">Rotate <span class="register">A</span> right once.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33287"></span>8207</td>
<td class="instruction">DJNZ <a href="32632.html#33285">Drawing_49</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="32632.html#33285">Drawing_49</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33289"></span>8209</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1">Restore <span class="register">BC</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33290"></span>820A</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="asm-label">DrawingClear</td>
<td class="address-2"><span id="33291"></span>820B</td>
<td class="instruction">CALL <a href="38381.html">LocationLit</a></td>
<td class="comment-1" rowspan="1">Call <a href="38381.html">LocationLit</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33294"></span>820E</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-1" rowspan="2">Store the first byte of the graphic data in the shadow <span class="register">AF</span> register.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33295"></span>820F</td>
<td class="instruction">LD A,(IY+$00)</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33298"></span>8212</td>
<td class="instruction">INC IY</td>
<td class="comment-1" rowspan="1">Increment the graphic data pointer to the next byte.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33300"></span>8214</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-1" rowspan="1">Switch back to the "normal" <span class="register">AF</span> register to check the result of the call to <a href="38381.html">LocationLit</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33301"></span>8215</td>
<td class="instruction">JR NC,<a href="32632.html#33306">DrawingBorder</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="32632.html#33306">DrawingBorder</a> if <a href="38381.html">LocationLit</a> did not set the carry flag (so, it is LIGHT).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33303"></span>8217</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-1" rowspan="2">Overwrite the graphic data in the shadow <span class="register">AF</span> register to $00 (black).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33304"></span>8218</td>
<td class="instruction">XOR A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33305"></span>8219</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-1" rowspan="1">Switch back to the "normal" <span class="register">AF</span> register simply to accomodate the jump from <a href="32632.html#33301">8215</a>.</td>
</tr>
<tr>
<td class="asm-label">DrawingBorder</td>
<td class="address-2"><span id="33306"></span>821A</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-1" rowspan="1">Switch to the shadow <span class="register">AF</span> register containing the first byte of the graphic data (or $00 if it's dark).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33307"></span>821B</td>
<td class="instruction">OUT ($FE),A</td>
<td class="comment-1" rowspan="1">Set the border colour to the value in <span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33309"></span>821D</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="3">Store <span class="register">HL</span>, <span class="register">DE</span> and <span class="register">BC</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33310"></span>821E</td>
<td class="instruction">PUSH DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33311"></span>821F</td>
<td class="instruction">PUSH BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33312"></span>8220</td>
<td class="instruction">LD HL,$4000</td>
<td class="comment-1" rowspan="5">Write $00 to $4000-$4FFF (the screen buffer).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33315"></span>8223</td>
<td class="instruction">LD DE,$4001</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33318"></span>8226</td>
<td class="instruction">LD BC,$0FFF</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33321"></span>8229</td>
<td class="instruction">LD (HL),$00</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33323"></span>822B</td>
<td class="instruction">LDIR</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33325"></span>822D</td>
<td class="instruction">LD HL,$5800</td>
<td class="comment-1" rowspan="3">Set up copying to the attribute buffer (start=$5800, length=$01FF).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33328"></span>8230</td>
<td class="instruction">LD DE,$5801</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33331"></span>8233</td>
<td class="instruction">LD BC,$01FF</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33334"></span>8236</td>
<td class="instruction">LD A,(IY+$00)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=The next byte (second) of the graphic data.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33337"></span>8239</td>
<td class="instruction">INC IY</td>
<td class="comment-1" rowspan="1">Increment the graphic data pointer to the next byte.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33339"></span>823B</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-1" rowspan="1">Switch back to the "normal" <span class="register">AF</span> register which contains the LIGHT/ DARK carry flag.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33340"></span>823C</td>
<td class="instruction">JR NC,<a href="32632.html#33345">DrawingPaper</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="32632.html#33345">DrawingPaper</a> if <a href="38381.html">LocationLit</a> did not set the carry flag (so, it is LIGHT).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33342"></span>823E</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-1" rowspan="2">Overwrite the graphic data in the shadow <span class="register">AF</span> register to $00 (black).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33343"></span>823F</td>
<td class="instruction">XOR A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33344"></span>8240</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-1" rowspan="1">Switch back to the "normal" <span class="register">AF</span> register simply to accomodate the jump from <a href="32632.html#33340">823C</a>.</td>
</tr>
<tr>
<td class="asm-label">DrawingPaper</td>
<td class="address-2"><span id="33345"></span>8241</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-1" rowspan="1">Switch to the shadow <span class="register">AF</span> register containing the second byte of the graphic data (or $00 if it's dark).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33346"></span>8242</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="2">Write this to the attribute buffer using the target/ length specified previously.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33347"></span>8243</td>
<td class="instruction">LDIR</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33349"></span>8245</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="3">Restore <span class="register">BC</span>, <span class="register">DE</span> and <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33350"></span>8246</td>
<td class="instruction">POP DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33351"></span>8247</td>
<td class="instruction">POP HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33352"></span>8248</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-1" rowspan="1">Switch back to the "normal" <span class="register">AF</span> register which contains the LIGHT/ DARK carry flag.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33353"></span>8249</td>
<td class="instruction">RET NC</td>
<td class="comment-1" rowspan="1">Return if it is LIGHT.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33354"></span>824A</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="2">Else, restore <span class="register">HL</span> from the stack and jump to <a href="32632.html#32873">DrawingEnd</a> to finish.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33355"></span>824B</td>
<td class="instruction">JP <a href="32632.html#32873">DrawingEnd</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="33358"></span>824E</td>
<td class="instruction">DEFB $38,$00,$00</td>
<td class="comment-1" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="32631.html">7F77</a>
</td>
<td class="up">Up: <a href="../maps/all.html#32632">Map</a></td>
<td class="next">
Next: <a href="33361.html">8251</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1982 Melbourne House</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.5.</div>
</footer>
</body>
</html>